<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/27a12b435e.js" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Redressed&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Presearing Plus</title>
</head>

<body>
  <div class="wrapper">
    <div class="colorBG"></div>
    <div class="nav">
      <div class="topBar"></div>
      <h1 id="title">
        <div id="titleShield"></div>Presearing <span class="plus">Plus+</span>
      </h1>
      <p>Fan Project by <a href="#">waff1eDog</a></p>
      <i id="hamburger" class="fas fa-bars"></i>
    </div>
    <!-- <div class="post1"></div>
  <div class="post2"></div> -->
  <div class="shield"></div>
    <section id="main">
      <!-- MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP -->
      <div id="iMap" class="overMap">
        <div class="overOutlines">
          <!-- PvP Zone -->
          <p class="newZoneText" id="villageText">Grendich Village (PvPvE 10-20)</p>
          <div id="village">
            <div class="innerHover">
              <div class="hoverContent">
                <h2>Grendich Village</h2>
              </div>
            </div>
          </div>
          <!-- Guild Halls -->
          <p class="newZoneText" id="guildHallsText">Guild Halls</p>
          <div id="guildHalls">
            <div class="innerHover">
              <div class="hoverContent">
                <h2>Guild Halls</h2>
              </div>
            </div>
          </div>
        </div>
          <!-- PvE Zones -->
          <p class="newZoneText" id="deldrimorText">Deldrimor Peaks (16-20)</p>
          <div id="deldrimor">
            <div class="innerHover">
              <div class="hoverContent">
                <h2>Deldrimor</h2>
              </div>
            </div>
          </div>

          <p class="newZoneText" id="surmiaText">Surmia (16-20)</p>
          <div id="surmia">
            <div class="innerHover">
              <div class="hoverContent">
                <h2>Surmia</h2>
              </div>
            </div>
          </div>

          <p class="newZoneText" id="serenityText">Serenity Temple (12-15)</p>
          <div id="serenityTemple">
            <div class="innerHover">
              <div class="hoverContent">
                <h2>Serenity Temple</h2>
              </div>
            </div>
          </div>
        </div>

        <!-- explainers -->
        <div class="overNames">
          <p class="northLands">The Northlands (6-14)</p>
          <div class="towns" id="ascalon">
            <div class="citycon"></div>
            <p>Ascalon City</p>
          </div>
          <div class="towns" id="baradinEstate">
            <div class="towncon"></div>
            <p>The Baradin Estate</p>
          </div>
          <div class="towns" id="ashfordAbbey">
            <div class="towncon"></div>
            <p>Ashford Abbey</p>
          </div>
          <div class="towns" id="fortRanik">
            <div class="towncon"></div>
            <p>Fort Ranik</p>
          </div>
          <div class="towns" id="foblesFair">
            <div class="towncon"></div>
            <p>Foble's Fair</p>
          </div>
          <div class="stones">
            <p>Stones</p>
            <div class="stoneWrapper">
              <i class="far fa-gem" id="fireStone"></i>
              <i class="far fa-gem" id="frostStone"></i>
            </div>
          </div>
          <div id="explainers">
            <div class="blackBar"><p>Prince Rurik</p></div>
            <div id="rurik"></div>
            <p id="eText" class="explainersText"></p>
            <div class="explainersButtons">
              <div class="eButtonsOne">
                <button id="eBack">Back</button>
                <button id="eOne">Next</button>
              </div>
              <div class="ebuttonsTwo">
                <button class="byeButton" id="eTwo">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      </div>
    </section>

    <div class="mapNav">
      <p id="mapNavText">Interactive Map</p>
    </div>

    <div class="credit">
      <a href="https://mohammadqureshi.com/" target=" ">Art Credit</a>
      <a href="https://www.reddit.com/r/GuildWars/comments/ffe34k/expanded_presearing_map/" target=" ">Expanded Map
        Credit</a>
    </div>
  </div>

</body>

<script>

  // vars for page swapping
  var iMap = document.getElementById("iMap");
  var content = document.getElementById("content");
  var story = document.getElementById("story");
  var mapNavText = document.getElementById("mapNavText");
  // vars for iMap
  var serenityText = document.getElementById("serenityText");
  var serenityTemple = document.getElementById("serenityTemple");
  var surmiaText = document.getElementById("surmiaText");
  var surmia = document.getElementById("surmia")
  var guildHallsText = document.getElementById("guildHallsText")
  var guildHalls = document.getElementById("guildHalls");
  var villageText = document.getElementById("villageText")
  var village = document.getElementById("village");
  var deldrimorText = document.getElementById("deldrimorText")
  var deldrimor = document.getElementById("deldrimor");
  var deldrimorTextBox = 0;
  // general
  var explain = document.getElementById("explainers");
  var eText = document.getElementById("eText");
  var eOne = document.getElementById("eOne");
  var eBack = document.getElementById("eBack");
  var eTwo = document.getElementById("eTwo");
  var currentFun = 0;
  var currentName = 0;
  var next = 0;
  var textCount = 0;
  var newNames = [window["serenityTemple"], window["surmia"], window["guildHalls"], window["village"], window["deldrimor"]];
  var newNames2 = [window["serenityText"], window["surmiaText"], window["guildHallsText"], window["villageText"], window["deldrimorText"]];
  var blocked = 0;
  var continueButton = 0;
  // stones
  var fireStone = document.getElementById("fireStone");
  var frostStone = document.getElementById("frostStone");

  // iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap iMap 
  // event listener cleanup function
  function hoverFunction() {
    if (blocked == 0) {
      explain.style.opacity = "1";
      explain.style.pointerEvents = "all";
      next = 0;
      eTwo.innerHTML = "Continue"
    }
    if (deldrimorTextBox == 1) {
      explain.style.bottom = "7rem"
    }
  }
  // serenityTemple
  serenityText.addEventListener("click", e => {
    if (blocked == 0) {
      textCount = 2;
      hoverFunction();
      currentName = newNames[0]
      serenityTempleFunction();
      currentFun = window["serenityTempleFunction"];
      blocked = 1;
    }
  });

  // surmia 
  surmiaText.addEventListener("click", e => {
    if (blocked == 0) {
      textCount = 2;
      hoverFunction();
      currentName = newNames[1];
      surmiaFunction();
      currentFun = window["surmiaFunction"];
      blocked = 1;
    }
  });

  // guild halls 
  guildHallsText.addEventListener("click", e => {
    if (blocked == 0) {
      textCount = 1;
      hoverFunction();
      currentName = newNames[2];
      guildHallsFunction();
      currentFun = window["guildHallsFunction"];
      blocked = 1;
    }
  });

  // village
  villageText.addEventListener("click", e => {
    if (blocked == 0) {
      textCount = 2;
      hoverFunction();
      currentName = newNames[3];
      villageFunction();
      currentFun = window["villageFunction"];
      blocked = 1;
    }
  });

  // deldrimor 
  deldrimorText.addEventListener("click", e => {
    if (blocked == 0) {
      deldrimorTextBox = 1;
      textCount = 1;
      hoverFunction();
      currentName = newNames[4];
      deldrimorFunction();
      currentFun = window["deldrimorFunction"];
      blocked = 1;
    }
  });

  // GLOWIES (new zone borders)
  function glowies() {
    if (explain.style.opacity == "1") {
      window[currentName.id].style.opacity = "1"
    }
    for (let i = 0; i < newNames.length; i++) {
      if (currentName.id !== newNames[i].id) {
        window[newNames[i].id].style.opacity = "0.2";
        window[newNames2[i].id].style.cursor = "default";
      }
      // setting all hovers back to pointer, adopted by glowies. ^^^^^^^^^^^^ ///
      if (continueButton == 1) {
        window[newNames2[i].id].style.cursor = "pointer";
      }
    }
    if (continueButton == 1) {
      continueButton = 0;
    }
    //                                                           ^^^^^^^^^^^^ ///
  }

  // Textbox Buttons
  eOne.addEventListener("click", e => {
    next++;
    currentFun();
  })
  eBack.addEventListener("click", e => {
    next--;
    currentFun();
  })
  eTwo.addEventListener("click", e => {
    next = 0;
    explain.style.opacity = "0";
    explain.style.pointerEvents = "none";
    blocked = 0;
    window[currentName.id].style.opacity = "0.2";
    //                                                          ^^^^^^^^^^^ ///
    continueButton = 1;
    if (deldrimorTextBox == 1) {
      explain.style.bottom = "1rem"
      deldrimorTextBox = 0
    }
    if (eTwo.innerHTML == "Defeat Zelock") {
      stoneFunction("fire");
    }
    if (eTwo.innerHTML == "Defeat Habros") {
      stoneFunction("frost");
    }
    glowies();
  })

  // stone function
  function stoneFunction(stone) {
    if (stone == "fire") {
      fireStone.style.animationName = "obtain";
      fireStone.style.opacity = "1";
      fireStone.style.fontWeight = "bold";
    }
    if (stone == "frost") {
      frostStone.style.animationName = "obtain";
      frostStone.style.opacity = "1";
      frostStone.style.fontWeight = "bold";
    }
  }

  // functions for imap functions for imap functions for imap functions for imap functions for imap 
  // cleanup
  function textBoxFun() {
    if (next < 0) next = 0;
    if (next > textCount) next = textCount;
  }
  function surmiaFunction() {
    textBoxFun()
    console.log(next);
    if (next == 0) eText.innerHTML = "Surmia, once a nice place to live, now a land taken over by the flame legion";
    if (next == 1) eText.innerHTML = "who wish to summon their fire gods in the name of Dhuum to burn us all";
    if (next == 2) eText.innerHTML = "It is here that you must defeat Zelock the charr chieftain of flame to obtain the flame stone"; 
    if (next == 2) eTwo.innerHTML = "Defeat Zelock"; 
    glowies();
  }
  function serenityTempleFunction() {
    textBoxFun()
    if (next == 0) eText.innerHTML = "Ahh, Serenity Temple, Once a place for monks to kneel in reverence to Dwayna";
    if (next == 1) eText.innerHTML = "It now lays waste as a bandit camp. To the north lies an entrance to Surmia"
    if (next == 2) eText.innerHTML = "Alongside The Northlands, this is another path that leads to Surmia"
    glowies();
  }
  function guildHallsFunction() {
    textBoxFun()
    if (next == 0) eText.innerHTML = "Here your guild may choose a location to call home";
    if (next == 1) eText.innerHTML = "To the north is Barox and to the south is Rin"
    glowies();
  }
  function villageFunction() {
    textBoxFun()
    if (next == 0) eText.innerHTML = "Genrich Village was once peaceful. It's land is high in magical resources and is now a cesspool ... ";
    if (next == 1) eText.innerHTML = "of bandits and charr warring over territory ..."
    if (next == 2) eText.innerHTML = "The two guilds that have taken over Rin and Barox commonly join in the fight as well"
    glowies();
  }
  function deldrimorFunction() {
    textBoxFun()
    if (next == 0) eText.innerHTML = "Deldrimor Peaks, an icey wasteland of cliffs and dungeons";
    if (next == 1) eText.innerHTML = "You must defeat the frozen king, Habros of the Stone Summit, to obtain the frost stone"
    if (next == 1) eTwo.innerHTML = "Defeat Habros";
    glowies();
  }


  // function changePage() {
  //   if (iph < 0) iph = 0;
  //   if (iph > 2) iph = 2;
  //   switch (iph) {
  //     case 0:
  //       iMap.style.display = "block";
  //       content.style.display = "none";
  //       story.style.display = "none";
  //       mapNavText.innerHTML = "Interactive Map"
  //       break;
  //     case 1:
  //       iMap.style.display = "none"
  //       content.style.display = "block";
  //       story.style.display = "none";
  //       mapNavText.innerHTML = "Content"
  //       break;
  //     case 2:
  //       iMap.style.display = "none"
  //       content.style.display = "none";
  //       story.style.display = "block";
  //       mapNavText.innerHTML = "Story"
  //   }
  // }



</script>

</html>